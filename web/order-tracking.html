<!DOCTYPE html>
<html lang="zxx" dir="ltr">
	
<head>
    <meta name="author" content="Kenora"> 
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>order</title>
    <link rel="shortcut icon" type="image/x-icon" href="assets/images/favicon.ico" />
  
    <link rel="stylesheet" href="assets/css/plugins.min.css">
    <link rel="stylesheet" href="assets/css/style.min.css">
</head>

<body>
    <div class="main-wrapper">
        <!--		All pages top area start-->
        <header>	
            <!-- Header top area start phone/email/account-->
            <div class="header-top">
                <div class="container">
                    <div class="row justify-content-between align-items-center">
                        <div class="col d-none d-lg-block">
                            <div class="top-nav">
                                <ul>
                                    <li><a><i class="fa fa-phone"></i> +012 3456 789</a></li>
                                    <li><a><i class="fa fa-envelope-o"></i> NeBula@bjtuluc.com</a></li>
                                    <li><a href="login.html"><i class="fa fa-user"></i> Logout</a></li>
                                </ul>
                            </div>
							
                        </div>
                    </div>
                </div>
            </div>
            <!-- Header top area end -->
			
            <!-- Header action area start logo/search/wishlist/cart-->
            <div class="header-bottom  d-none d-lg-block">
                <div class="container">
                    <div class="row justify-content-between align-items-center">
                       <!--							logo-->
						<div class="col-lg-3 col">
                            <div class="header-logo">
                                <a href="index.html"><img src="assets/images/logo/logo.png" alt="Site Logo" /></a>
                            </div>
                        </div>
						<!--                        search-->
                        <div class="col-lg-6 d-none d-lg-block">
                            <div class="search-element">
								<form action="#">
                                    <input type="text" placeholder="Search" />
                                    <button><i class="pe-7s-search"></i></button>
                                </form>
                            </div>
                        </div>
                        <!--						icon-->
                        <div class="col-lg-3 col">
                            <div class="header-actions">
                               
							    
								<!-- Cart Start -->
                                <a href="cart.html" class="header-action-btn header-action-btn-cart">
                                    <i class="pe-7s-shopbag"></i>
<!--                                    <span class="header-action-num">01</span>-->
                                </a>
								<!-- Cart End -->							
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Header action area end -->
			           
			<!-- header navigation area start home/about/pages/shop/contact-->
                        <div class="header-nav-area d-none d-lg-block sticky-nav">
                <div class="container">
                    <div class="header-nav">
                        <div class="main-menu position-relative">
                            <ul>
								<li><a href=" index.html">Home</a></li>
                                <li><a href=" about.html">About</a></li>
								<li><a href=" shop-3-column.html">shop</a></li>
								<li class="dropdown position-static"><a href=" about.html">My<i class="fa fa-angle-down"></i></a>
                                    <ul class="mega-menu d-block">
                                        <li class="d-flex">
                                            <ul class="d-block">
                                                <li><a href=" cart.html">Cart Page</a></li>
                                            </ul>
                                            <ul class="d-block">
                                               <li><a href=" order-tracking.html">Order Tracking</a></li>
                                            </ul>  
                                            <ul class="d-flex align-items-center p-0 border-0 flex-column justify-content-center">
                                            </ul>
                                        </li>
                                    </ul>
                                </li>								
                                <li><a href=" contact.html">Contact</a></li>

								
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- header navigation area end -->
        </header>
        <!--		All pages top area end-->
	
        <!-- path start -->
        <div class="breadcrumb-area">
            <div class="container">
                <div class="row align-items-center justify-content-center">
                    <div class="col-12 text-center">
                        <h2 class="breadcrumb-title">Order Tracking</h2>
                        <!-- breadcrumb-list start -->
                        <ul class="breadcrumb-list">
                            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                            <li class="breadcrumb-item active">Order Tracking</li>
                        </ul>
                        <!-- breadcrumb-list end -->
                    </div>
                </div>
            </div>
        </div>
        <!-- path end -->
		
       
		 <!-- Cart Area Start -->
        <div class="cart-main-area pt-100px pb-100px">
            <div class="container">
                <h3 class="cart-page-title">Orders</h3>
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                        <form action="#">
                            <div class="table-content table-responsive cart-table-content">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Image</th>
                                            <th>Time</th>
                                            <th>Total Price</th>
                                            <th>OderId</th>
<!--                                            <th>Subtotal</th>-->
                                            <th>return</th>
                                        </tr>
                                    </thead>
                                    <tbody id="cartProduct">
<!--                                  <tr>
                                            <td class="product-thumbnail">
                                                <a href="#">
                                                    <img class="img-responsive ml-15px" src="assets/images/product-image/1.webp" alt="" /></a>
                                            </td>
                                            <td class="product-name"><a href="#">Modern Smart Phone</a></td>
                                            <td class="product-price-cart"><span class="amount">$60.00</span></td>
                                            <td class="product-quantity"><span class="amount">1</span>
                                            </td>
                                       <td class="product-price-cart"><span class="amount">$60.00</span></td>
                                            <td class="product-remove"><a href="return.html">Return</a></td>
                                            
                                        </tr>-->
                                        <!--


                                        <tr>
                                            <td class="product-thumbnail">
                                                <a href="#"><img class="img-responsive ml-15px" src="assets/images/product-image/2.webp" alt="" /></a>
                                            </td>
                                            <td class="product-name"><a href="#">Bluetooth Headphone</a></td>
                                            <td class="product-price-cart"><span class="amount">$50.00</span></td>
                                            <td class="product-quantity"><span class="amount">1</span>

                                                <div class="cart-plus-minus">
                                                    <input class="cart-plus-minus-box" type="text" name="qtybutton" value="1" />
                                                </div>

                                            </td>
                                            <td class="product-subtotal">$80.00</td>
                                            <td class="product-remove">
                                             <a href="return.html">Return</a>

                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="product-thumbnail">
                                                <a href="#"><img class="img-responsive ml-15px" src="assets/images/product-image/3.webp" alt="" /></a>
                                            </td>
                                            <td class="product-name"><a href="#">Smart Music Box</a></td>
                                            <td class="product-price-cart"><span class="amount">$70.00</span></td>
                                            <td class="product-quantity"><span class="amount">1</span>

                                                <div class="cart-plus-minus">
                                                    <input class="cart-plus-minus-box" type="text" name="qtybutton" value="1" />
                                                </div>

                                            </td>
                                            <td class="product-subtotal">$90.00</td>
                                            <td class="product-remove">
                                                <a href="#"><i class="fa fa-pencil"></i></a>
                                                <a href="#"><i class="fa fa-times"></i></a>
												 <a href="return.html">Return</a>

											</td>
                                        </tr>-->
                                    </tbody>
                                </table>
                            </div>
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="cart-shiping-update-wrapper">
                                        <div class="cart-shiping-update">
                                            <a href="shop-3-column.html">Continue Shopping</a>
                                        </div>
                                       
                                    </div>
                                </div>
                            </div>
                        </form>
                        <div class="row">
                            
                          
                           
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Cart Area End -->
		
		
    </div>

     <script src=" assets/js/jQuery.mini.js"></script>
    <script src=" assets/js/vendor.min.js"></script>
    <script src=" assets/js/plugins.min.js"></script>
    <script src=" assets/js/main.min.js"></script>
    <script>
        
     
        
    $(function(){ 
//            $("#login").click(function(){

               

                $.ajax({
                      type: 'GET',
                      url: "http://localhost:8080/NeBula/order",

                      dataType: "json",
//                      dataType: "text",
                      async: false,
//                      crossDomain: true,

                      success:function(response){
                        var order = response;
                        var orderID = new Array();
                        var totalPrice = new Array();
                        var orderTime = new Array();
//                        var orderAmount = new Array();
//                        var orderReturn = new Array();
                        
//                        for(var i=0; i<order.length; i++){
//                        //orderReturn
//                        orderReturn[i] = order[i].productList[0].isReturned;
//                        console.log("orderReturn[i]:",orderReturn[i]);
//                        }
                        
                        
                        
                        //生成order表项模板
                           for(var i=0; i<order.length; i++){
                            console.log("第i个order",order[i]);
                            //创建html表项（创建模板）
//                            console.log(orderReturn[i]=="false");
//                            if(orderReturn[i]){}
//                            else{
                            $("#cartProduct").append("<tr>");
//                            $("#cartProduct").trigger("create"); //重新加载所在标签的样式
                            //imag
                            $("#cartProduct").append("<td class=\"product-thumbnail\"><img class=\"img-responsive ml-15px\" src=\"assets/images/product-image/1.webp\" alt=\"\" /></td>");
//                            $("#cartProduct").trigger("create"); //重新加载所在标签的样式
//                          //orderTime
                            $("#cartProduct").append("<td id=\"orderTime"+i+"\""+" class=\"product-name\">添加下单时间</td>");
                            //orderID
                            $("#cartProduct").append("<td id=\"orderID"+i+"\""+" class=\"product-name\">添加orderID</td>");
//                            $("#cartProduct").trigger("create"); //重新加载所在标签的样式
                            //totalPrice
                            $("#cartProduct").append("<td class=\"product-price-cart\"><span id=\"totalPrice"+i+"\""+" class=\"amount\">添加price</span></td>");
//                            $("#cartProduct").trigger("create"); //重新加载所在标签的样式
                            //productAmount
//                            $("#cartProduct").append("<td class=\"product-quantity\"><span id=\"amount"+i+"\""+" class=\"amount\">1</span>");
//                            console.log("<td class=\"product-quantity\"><div class=\"cart-plus-minus\"><input id=\"amount"+i+"\""+" class=\"cart-plus-minus-box\" type=\"text\" name=\"qtybutton\" value=\"1\" /></div></td>");
//                            $("#cartProduct").trigger("create"); //重新加载所在标签的样式
                            
                            //return
                            $("#cartProduct").append("<td class=\"product-remove\"><a href=\"return.html\">Return</a></td>");
                            
                            $("#cartProduct").append("</tr>");
//                            $("td.product-quantity").trigger("create"); //重新加载所在标签的样式
//                            }//end of else
                        }
                        
//                          $(".product-remove").click(function(){
//                           alert("成功");
//                           $("a").text("returned");
//                         $("#addToCart1").click(function(){
//                             alert("执行成功3");
//                             buttonID = $(this).attr("id");
//                             productN = parseInt(buttonID.substring(9,buttonID.length)-1, 10);
//                             
//                             if(buttonID.substring(0,9)=="addToCart"){
////                                 alert(productID[productN]);
//                                 var toCart = {"productID":productID[productN],"amount":1};
//                                 alert("执行成功2");
              
//                         });//end of click buttonIDC
                        
                        //向order表项里面添加数据
                        for(var i=0; i<order.length; i++){
                                      //id
//                                      console.log("product[i].id",product[i].id);
//                                      productID[i] = product[i].id;
//                                      console.log("productID[i]:",productID[i]);
                                      //判断product是否在cart内（判断cartProductID和allProductID是否相同）
                                     
                                         console.log("进来了"); 
                                        
                                        //orderID
//                                        console.log("product[i].name:",product[i].name);
                                        orderID[i] = order[i].id;
                                        console.log("orderID[i]:",orderID[i]); 
                                        $("#"+"orderID"+i).text(orderID[i]);
                                        //放入productName
//                                        $("#"+"productName"+i).text(name[i]);
                                        //price
//                                        console.log("product[i].price:",product[i].price);
                                        totalPrice[i] = order[i].totalPrice;
                                        console.log("totalPrice[i]:",totalPrice[i]);
                                        $("#"+"totalPrice"+i).text("$ "+ totalPrice[i]);
                                        //放入productPrice
//                                        $("#"+"productPrice"+i).text(price[i]);
                                        //amount加载到每个product中                       
//                                        $("#"+"amount"+i).text(amount[i]);
                                        //orderTime
                                        orderTime[i] = order[i].datetime;
                                        console.log("orderTime[i]:",orderTime[i]);
                                        $("#"+"orderTime"+i).text(orderTime[i]);
                                        //amount
//                                        orderAmount[i] = order[i].amount;
//                                        console.log("orderAmount[i]:",orderAmount[i]);
                                        
//                                        $("#"+"orderTime"+i).text(orderTime[i]);
                                        
                                  }//for
                                  
                                  
                           
                        
                        console.log(response);
                        console.log("end of success ajax1");     
                      },//ajax1 success
                      
                     error:function(response){
//                        alert("fail ajax");
                        console.log("fail ajax",response);
                        console.log("end of fail ajax");     
                      }//ajax1 error
                      
                    });//end of ajax1
                 return false; //加上才能实现页面跳转 window.location.href
        });//start
    </script>
</body>

</html>